import{f as d,g as e}from"./index-FeLLQDu8.js";const r="https://ec-course-api.hexschool.io/v2",i="2023-vue",h=d("cartStore",{state:()=>({carts:[],finalTotal:0,inputIsAble:!1,isAddingToCart:!1,isDelingFromCart:!1}),getters:{},actions:{getCarts(){e.get(`${r}/api/${i}/cart`).then(t=>{this.carts=t.data.data.carts,this.finalTotal=t.data.data.final_total}).catch(t=>{alert(t.response.data.message)})},addToCart(t,a=1,l=null){this.isAddingToCart=!0;const o={data:{product_id:t,qty:a}};e.post(`${r}/api/${i}/cart`,o).then(s=>{alert(s.data.message),this.isAddingToCart=!1,this.getCarts(),l&&l.hide()}).catch(s=>{alert(s.response.data.message),this.isAddingToCart=!1})},delFromCart(t){this.isDelingFromCart=!0,e.delete(`${r}/api/${i}/cart/${t}`).then(a=>{this.isDelingFromCart=!1,this.getCarts(),alert(a.data.message)}).catch(a=>{alert(`無法刪除單品：${a.response.data.message}`),this.isDelingFromCart=!1})},delAllCarts(){this.isDelingFromCart=!0,e.delete(`${r}/api/${i}/carts`).then(t=>{this.isDelingFromCart=!1,this.getCarts(),alert(t.data.message)}).catch(t=>{this.isDelingFromCart=!1,alert(`無法清除商品：${t.response.data.message}`)})},editCart(t,a,l){this.inputIsAble=!0;const o={data:{product_id:a,qty:l}};e.put(`${r}/api/${i}/cart/${t}`,o).then(s=>{this.getCarts(),alert(s.data.message),this.inputIsAble=!1}).catch(s=>{alert(`無法修改購物車：${s.response.data.message}`),this.inputIsAble=!1})}}});export{h as c};
